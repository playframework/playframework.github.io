<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Using the Play SOAP client :: Playframework</title>
    <link rel="canonical" href="https://playframework.github.io/play-soap/1.x/play-soap-client.html">
    <meta name="generator" content="Antora 3.1.5">
    <link rel="stylesheet" href="../../_/css/site.css">
    <link rel="stylesheet" href="../../_/css/vendor/tabs.css">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://playframework.github.io">Playframework</a>
      <div class="navbar-item search hide-for-print">
        <div id="search-field" class="field">
          <input id="search-input" type="text" placeholder="Search the docs">
          <label class="filter checkbox">
            <input type="checkbox" data-facet-filter="component:play-soap" checked> In this project
          </label>
        </div>
      </div>
      <button class="navbar-burger" aria-controls="topbar-nav" aria-expanded="false" aria-label="Toggle main menu">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <!--
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Products</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Product A</a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Services</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Service A</a>
            <a class="navbar-item" href="#">Service B</a>
            <a class="navbar-item" href="#">Service C</a>
          </div>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div>
      </div>
    </div>
    -->
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="play-soap" data-version="1.x">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <button class="nav-menu-toggle" aria-label="Toggle expand/collapse all" style="display: none"></button>
    <h3 class="title"><a href="index.html">Play SOAP</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Getting started</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="sbt-wsdl.html">Installation and using SbtWsdl</a>
  </li>
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="play-soap-client.html">Using a Play SOAP client</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Advanced</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="handlers.html">Using JAX WS Handlers</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="security.html">Security</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Play SOAP</span>
    <span class="version">1.x (EOL)</span>
  </div>
  <ul class="components">
    <li class="component">
      <a class="title" href="../../play-grpc/0.12.x/index.html">Play gRPC</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../play-grpc/0.12.x/index.html">0.12.x</a>
        </li>
        <li class="version">
          <a href="../../play-grpc/0.11.x/index.html">0.11.x</a>
        </li>
        <li class="version">
          <a href="../../play-grpc/0.10.x/index.html">0.10.x (EOL)</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <a class="title" href="../2.x/index.html">Play SOAP</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../2.x/index.html">2.x</a>
        </li>
        <li class="version is-current">
          <a href="index.html">1.x (EOL)</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../2.x/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">Play SOAP</a></li>
    <li>Getting started</li>
    <li><a href="play-soap-client.html">Using a Play SOAP client</a></li>
  </ul>
</nav>
<div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">1.x (EOL)</button>
  <div class="version-menu">
    <a class="version is-missing" href="../2.x/index.html">2.x</a>
    <a class="version is-current" href="play-soap-client.html">1.x (EOL)</a>
  </div>
</div>
<div class="edit-this-page"><a href="https://github.com/playframework/play-soap/edit/1.x/docs/modules/ROOT/pages/play-soap-client.adoc">Edit this Page</a></div>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Using the Play SOAP client</h1>
<div class="sect1">
<h2 id="_accessing_the_client"><a class="anchor" href="#_accessing_the_client"></a>Accessing the client</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Once you have sbt WSDL generating a soap client for you, it is quite straightforward to use.  How you access it depends on the service and port names in the WSDL.  Consider the following service section from a WSDL:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;wsdl:service name="HelloWorldService"&gt;
  &lt;wsdl:port binding="tns:HelloWorldSoapBinding" name="HelloWorld"&gt;
    &lt;soap:address location="http://example.com/helloWorld"/&gt;
  &lt;/wsdl:port&gt;
&lt;/wsdl:service&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Assuming that the package name that the client was generated into is <code>com.example</code>, Play will generate a service class called <code>com.example.HelloWorldService</code>.  This class is actually a Play plugin that allows you to configure the client, including configuring the address for each port to use.</p>
</div>
<div class="paragraph">
<p>Note that there are some situations where sbt WSDL won&#8217;t use the service name from the WSDL, these are when the name of the service conflicts with another class that it generated, such as the name of the service endpoint interface.  In that case, sbt WSDL will append <code>_Service</code> to the end of the service name, for example <code>com.example.HelloWorldService_Service</code>.</p>
</div>
<div class="paragraph">
<p>Having located the service class, you can now get a port.  In the above WSDL there is one port named <code>HelloWorld</code>, and, according to the <code>HelloWorldSoapBinding</code> (not shown above), this returns a service endpoint interface called <code>HelloWorld</code>.  To access the endpoint, simply have it injected into your components or controllers, like so in Scala:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-scala hljs" data-lang="scala">class MyComponent @Inject() (helloWorldService: HelloWorldService) {
  val client: HelloWorld = helloWorldService.helloWorld
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Or in Java:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class MyComponent {

    private final HelloWorldService helloWorldService;

    @Inject
    public MyComponent(HelloWorldService helloWorldService) {
        this.helloWorldService - helloWorldService;
    }

    public void someMethod() {
        HelloWorld client = helloWorldService.getHelloWorld();
        // use the client somehow
    }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_using_the_client"><a class="anchor" href="#_using_the_client"></a>Using the client</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Once you&#8217;ve got a reference to the <code>client</code>, you can invoke methods on it.  For example, let&#8217;s assume our client has operation called <code>sayHello</code> that takes a String parameter and returns a String parameter.  To invoke this from a Play Scala action, you would do this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-scala hljs" data-lang="scala">import play.api.libs.concurrent.Execution.Implicits._

def hello(name: String) = Action.async {
  val client: HelloWorld = helloWorldService.helloWorld
  client.sayHello(name).map { answer =&gt;
    Ok(answer)
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>To invoke it from a Play Java action you would do this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import java.util.concurrent.CompletionStage;

public CompletionStage&lt;Result&gt; hello(String name) {
    HelloWorld client = helloWorldService.getHelloWorld();
    return client.sayHello(name).map(answer -&gt; {
        return ok(answer);
    });
}</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="_a_note_on_using_scala"><a class="anchor" href="#_a_note_on_using_scala"></a>A note on using Scala</h3>
<div class="paragraph">
<p>The generated data objects will all be Java beans, with getter/setter style properties, and using Java collections.  For convenience when working with the Java collections, you may import the Scala implicit conversions for Scala collections, like so:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-scala hljs" data-lang="scala">import scala.collection.JavaConverters._</code></pre>
</div>
</div>
<div class="paragraph">
<p>Using this you can work with Java collections as if they were Scala collections, and pass Scala collections to setters and methods that accept Java collections.</p>
</div>
<div class="paragraph">
<p>It&#8217;s also important to remember that many properties could be <code>null</code>.</p>
</div>
<div class="paragraph">
<p>A pure Scala client that uses case classes, Scala collections and <code>Option</code> is a possible future enhancement for the Play SOAP library.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_configuring_the_client"><a class="anchor" href="#_configuring_the_client"></a>Configuring the client</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Configuration for the client works hierarchically, each configuration item is first checked to see if it&#8217;s defined for the port, if not then for the service, and finally globally.  The format for global configuration is <code>play.soap.*</code>.  The format for configuration applying to a particular service is <code>play.soap.services.&lt;fqsn&gt;</code>, where <code>&lt;fqsn&gt;</code> is the fully qualified service name, for example, <code>com.example.HelloWorldService</code>.  The format for configuration applying to a particular port is <code>play.soap.services.&lt;fqsn&gt;.ports.&lt;portName&gt;</code>, where <code>&lt;portName&gt;</code> is the name of the port, for example <code>HelloWorld</code>.</p>
</div>
<div class="paragraph">
<p>So for the client above, to set the debug log just for the port, you would set:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-hocon hljs" data-lang="hocon">play.soap.services.com.example.HelloWorldService.ports.HelloWorld.debugLog = true</code></pre>
</div>
</div>
<div class="paragraph">
<p>To set it for the whole service, you would set:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-hocon hljs" data-lang="hocon">play.soap.services.com.example.HelloWorldService.debugLog = true</code></pre>
</div>
</div>
<div class="paragraph">
<p>And to set it globally, you would set:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-hocon hljs" data-lang="hocon">play.soap.debugLog = true</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="_changing_the_address"><a class="anchor" href="#_changing_the_address"></a>Changing the address</h3>
<div class="paragraph">
<p>The address of a port can be set using the <code>address</code> property.  For example, to set the address of every port for the <code>HelloWorldService</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-hocon hljs" data-lang="hocon">play.soap.services.com.example.HelloWorldService.address = "http://example.com/helloWorld"</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_turning_on_the_debug_log"><a class="anchor" href="#_turning_on_the_debug_log"></a>Turning on the debug log</h3>
<div class="paragraph">
<p>The debug log will log the outbound and inbound messages, including HTTP headers, made by the client.  An example of this is as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs" data-lang="none">16:52:17.953 [pool-1-thread-1] INFO  o.a.c.s.H.HelloWorldPort.HelloWorld - Outbound Message
---------------------------
ID: 1
Address: http://example.com/helloWorld
Encoding: UTF-8
Http-Method: POST
Content-Type: text/xml
Headers: {Accept=[*/*], SOAPAction=[""]}
Payload: &lt;soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"&gt;&lt;soap:Body&gt;&lt;ns2:sayHello xmlns:ns2="http://example.com/"&gt;&lt;name&gt;world&lt;/name&gt;&lt;/ns2:sayHello&gt;&lt;/soap:Body&gt;&lt;/soap:Envelope&gt;
--------------------------------------
16:52:18.180 [default-workqueue-1] INFO  o.a.c.s.H.HelloWorldPort.HelloWorld - Inbound Message
----------------------------
ID: 1
Response-Code: 200
Encoding: UTF-8
Content-Type: text/xml;charset=UTF-8
Headers: {Content-Length=[204], content-type=[text/xml;charset=UTF-8], Server=[Jetty(8.1.15.v20140411)]}
Payload: &lt;soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"&gt;&lt;soap:Body&gt;&lt;ns2:sayHelloResponse xmlns:ns2="http://example.com/"&gt;&lt;return&gt;Hello world&lt;/return&gt;&lt;/ns2:sayHelloResponse&gt;&lt;/soap:Body&gt;&lt;/soap:Envelope&gt;
--------------------------------------</code></pre>
</div>
</div>
<div class="paragraph">
<p>The debug log can be turned on using the <code>debugLog</code> property, for example, to turn it on globally:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-hocon hljs" data-lang="hocon">play.soap.debugLog = true</code></pre>
</div>
</div>
<div class="paragraph">
<p>In combination with the <code>debugLog</code> property, you may need to adjust the logging levels in your Play application.  To see the debug log, you need to ensure that <code>org.apache.cxf.services</code> is configured to log at least <code>INFO</code> messages.  This can be further refined by supplying the service name, port and service endpoint interface name, for example, <code>org.apache.cxf.services.HelloWorldService</code>.</p>
</div>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <div id="support">
    <article class="community">
      <h3>Community support</h3>
      <ul>
        <li><a href="//github.com/playframework/playframework/discussions">Discuss Forum</a></li>
        <li><a href="//discord.gg/g5s2vtZ4Fa">Discord</a></li>
        <li><a href="//stackoverflow.com/questions/tagged/playframework">Stackoverflow</a></li>
      </ul>
    </article>
    <article class="professional">
      <h3>Donate to our Collective</h3>
      <ul>
        <li><a href="https://www.playframework.com/sponsors">If you like Play consider becoming a
          sponsor</a></li>
      </ul>
    </article>
  </div>
  <div class="wrapper">
    <div>
      <h3>Play Framework</h3>
      <ul>
        <li><a href="https://www.playframework.com/download">Try Play</a></li>
        <li><a href="https://www.playframework.com/documentation/latest/Tutorials">Tutorials</a>
        </li>
        <li><a href="https://www.playframework.com/documentation">Documentation</a></li>
      </ul>
    </div>
    <div>
      <h3>Community links</h3>
      <ul>
        <li><a href="http://www.indeed.com/jobs?q=%22play+framework%22&l=">Jobs <em>via Indeed</em></a>
        </li>
      </ul>
    </div>
    <div>
      <h3>Code &amp; contribution</h3>
      <ul>
        <li><a href="https://www.playframework.com/code">Code &amp; contributors</a></li>
        <li><a href="//github.com/playframework/playframework/issues">Bug tracker
          <em>GitHub</em></a></li>
        <li><a href="https://www.playframework.com/get-involved">Get involved</a></li>
      </ul>
    </div>
    <div>
      <h3>Social networks</h3>
      <ul>
        <li><a href="//twitter.com/playframework"><span>Twitter</span></a></li>
        <li><a href="//opencollective.com/playframework"><span>Open Collective</span></a></li>
      </ul>
    </div>
  </div>
  <div class="credits">
    <a href="https://www.playframework.com" class="logo"><img
      src="https://www.playframework.com/assets/images/logos/1e960a0ef2cad41e1be353eb6efe5af1-play_reverse.svg"></a>
    <a href="https://lightbend.com" class="partner"><img
      src="https://www.playframework.com/assets/images/logos/525b1d1a1f86ef97a29eded7e434b38c-lightbend-reverse.svg"></a>
    <a href="https://zengularity.com" class="partner"><img
      src="https://www.playframework.com/assets/images/logos/e73318d4c3a11ee57b9f6a1bf823d127-zengularity.png"></a>
    <p>
      Play Framework is released under the Apache 2 License
    </p>
  </div>
  <div class="lb-legal">
    <p>
      &copy; 2011-2022 Lightbend |
      <a href="https://www.lightbend.com/legal/licenses" target="_blank">Licenses</a> |
      <a href="https://www.lightbend.com/legal/terms" target="_blank">Terms</a> |
      <a href="https://www.lightbend.com/legal/privacy" target="_blank">Privacy Policy</a>
    </p>
  </div>
</footer>
<script id="site-script" src="../../_/js/site.js" data-ui-root-path="../../_"></script>
<script async src="../../_/js/vendor/tabs.js" data-sync-storage-key="preferred-tab"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
<script src="../../_/js/vendor/lunr.js"></script>
<script src="../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../.." data-snippet-length="100" data-stylesheet="../../_/css/search.css"></script>
<script async src="../../search-index.js"></script>
  </body>
</html>
